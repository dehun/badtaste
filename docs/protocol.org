* common info
** socket port
   8080
** admin web port
   5223
* connect
** authentication successfull
   -> Authenticate(login="dehun", password="123")
   <- Authenticated(guid = "123871523816kajsbhdqw")
** authentication failed
   -> Authenticate(login="wrong_name", password="wrongpass")
* rooms
** join to tagged room queue (game in your city)
   -> JoinTaggedRoomQueue(tag = "kiev")
   <- OnJoinedToTaggedRoomQueue(tag = "kiev")
   <- OnJoinedToRoom(users = [guid1, guid2, guid3], state = ("pending" | "active"))
** join to a random room
   -> JoinMainRoomQueue()
   <- OnJoinedToMainRoomQueue()
   <- OnJoinedToRoom(users = [guid1, guid2, guid3], state = ("pending" | "active"))
** on room dead(all users leaved room)
   <- OnRoomDeath()
** on somebody joined to room when you are in this room
   <- OnRoomUserListChanged(users = [guid1, guid2, guid3])
** on room came to active state(game begin)
   <- OnRoomStateChaned(state = "active")
* chat
** send chat message to room where you are 
   -> SendChatMessageToRoom(message = "some message text body")
** getting chat message from room where you are
   <- OnGotChatMessageFromRoom(senderGuid = "someguid", message = "some message text body")
* web admin interface
** registration/updating info
   -> TouchUserInfo(userInfo = (UserInfo(userId = "dehun", name = "dehun", profileUrl = "http://vk.com/kcpc", isMan = "true", 
   birthDate="1989.05.31", city="kiev",  avatarUrl = "http://radikal.ru/img/someimage.jpg")))
   <- TouchUserInfoResult(result = "ok")
* user info
** get user info
   -> GetUserInfo(targetUserGuid = "someGuid")
   <- OnGotUserInfo(infoOwnerGuid = "someGuid", userId = "someid", firstName = "lol", lastName = "what", profileUrl = "url", isMan = "false",
   smallAvatarUrl = "another_url", mediumAvatarUrl = "yep_another_url", bigAvatarUrl = "urrrl")
** get friend info
   -> GetFriendInfo(targetUserGuid = "someGuid")
   <- OnGotUserInfo(infoOwnerGuid = "someGuid", userId = "someid", firstName = "lol", lastName = "what", profileUrl = "url", isMan = "false",
   smallAvatarUrl = "another_url", mediumAvatarUrl = "yep_another_url", bigAvatarUrl = "urrrl")
** upload avatar (by http) 
   -> UploadNewUserAvatar(userGuid = "someguid", imageFormatName = "png", imageDataBase64 = "image_data_encoded_into_base64_string")
   <- UploadNewUserAvatarResult(result = "ok")
** update user info from game
   -> TouchUserInfoByUser(name = "dehunter")
   <- TouchUserInfoByUserResult(result = "ok")
* time
** get current time
   -> GetCurrentTime()
   <- OnGotCurrentTime(time = 1234567) // time is a unixtime (number of seconds since...)

* bank
** check bank balance
   -> CheckBankBalance()
   <- OnBankBalanceChecked(gold = 123)
** when some action change bank balance(for example user have bought something, or got some money)
   <- OnBankBalanceChanged(newGold = 123)
* rates
** rate user success
   -> RateUser(targetUserGuid = "someguid", rate = 5)
   <- OnUserRatedSuccessfully(ratedUserGuid = "someguid")
** rate user fail
   -> RateUser(targetUserGuid = "someguid", rate = 5)
   <- OnUserRateFailed(ratedUserGuid = "someguid", reason = "already_rated") 
** get user rate
   -> GetUserRate(targetUserGuid = "someguid")
   <- OnGotUserRate(userGuid = "someguid", averageRate = 4, lastRaters = [Rater(guid = "some", rate = 2), Rater(guid = "other", rate = 10)])
** remove user rate
   -> RemoveUserRate(targetUserGuid = "someguid")
   <- OnUserRateRemoved(removedRaterGuid = "someguid")
